<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <title>Welcome to Around the World Travels</title>
  </head>

  <body>
    <div class="alert alert-dismissible fade" role="alert" id="message"></div>

    <div class="container">
      <br /><br />
      <h1>Around the World Travel desk</h1>
      <hr />
      <div class="row">
        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="First name"
            aria-label="First name"
            id="firstName"
          />
          <div class="invalid-feedback">The given Name is not valid.</div>
        </div>
        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Last name"
            aria-label="Last name"
            id="lastName"
          />
          <div class="invalid-feedback">The given Name is not valid.</div>
        </div>
      </div>
      <br />
      <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <input
          type="text"
          class="form-control"
          id="email"
          placeholder="Enter your Email"
        />
        <div class="invalid-feedback">Invalid Email.</div>
      </div>
      <div class="mb-3">
        <label for="state" class="form-label">State</label>
        <select
          class="form-select"
          aria-label="Default select example"
          id="defaultState"
        >
          <option selected>Select any one</option>
          <option value="Andhra Pradesh">Andhra Pradesh</option>
          <option value="Andaman and Nicobar Islands">
            Andaman and Nicobar Islands
          </option>
          <option value="Arunachal Pradesh">Arunachal Pradesh</option>
          <option value="Assam">Assam</option>
          <option value="Bihar">Bihar</option>
          <option value="Chandigarh">Chandigarh</option>
          <option value="Chhattisgarh">Chhattisgarh</option>
          <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
          <option value="Daman and Diu">Daman and Diu</option>
          <option value="Delhi">Delhi</option>
          <option value="Lakshadweep">Lakshadweep</option>
          <option value="Puducherry">Puducherry</option>
          <option value="Goa">Goa</option>
          <option value="Gujarat">Gujarat</option>
          <option value="Haryana">Haryana</option>
          <option value="Himachal Pradesh">Himachal Pradesh</option>
          <option value="Jammu and Kashmir">Jammu and Kashmir</option>
          <option value="Jharkhand">Jharkhand</option>
          <option value="Karnataka">Karnataka</option>
          <option value="Kerala">Kerala</option>
          <option value="Madhya Pradesh">Madhya Pradesh</option>
          <option value="Maharashtra">Maharashtra</option>
          <option value="Manipur">Manipur</option>
          <option value="Meghalaya">Meghalaya</option>
          <option value="Mizoram">Mizoram</option>
          <option value="Nagaland">Nagaland</option>
          <option value="Odisha">Odisha</option>
          <option value="Punjab">Punjab</option>
          <option value="Rajasthan">Rajasthan</option>
          <option value="Sikkim">Sikkim</option>
          <option value="Tamil Nadu">Tamil Nadu</option>
          <option value="Telangana">Telangana</option>
          <option value="Tripura">Tripura</option>
          <option value="Uttar Pradesh">Uttar Pradesh</option>
          <option value="Uttarakhand">Uttarakhand</option>
          <option value="West Bengal">West Bengal</option>
        </select>
        <div class="invalid-feedback">Select any one.</div>
      </div>
      <br />
      <div class="input-group">
        <span class="input-group-text">Address</span>
        <textarea
          class="form-control"
          aria-label="address"
          placeholder="Enter Your Address"
          id="address"
        ></textarea>
        <div class="invalid-feedback">Address cannot be empty.</div>
      </div>
      <br />
      <label for="car" class="form-label">Car</label>
      <select
        class="form-select"
        aria-label="Default select example"
        id="defaultCar"
      >
        <option selected>Select Your car</option>
        <option value="Scorpio">Scorpio</option>
        <option value="Wagonr">Wagonr</option>
        <option value="Swift Desire">Swift Desire</option>
        <option value="Van(10 Seater)">Van(10 Seater)</option>
        <option value="Skoda">Skoda</option>
      </select>
      <div class="invalid-feedback">Select any.</div>
      <br />
      <div class="col">
        <input
          type="text"
          class="form-control"
          placeholder="Enter your Mobile Number"
          aria-label="mobile-number"
          id="contact"
        />
        <div class="invalid-feedback">
          Invalid Contact No.(Contact No. must contain either 10, 11 or 12
          digits).
        </div>
      </div>
      <br />
      <div class="col-auto text-center">
        <button type="submit" class="btn btn-primary" id="reset">Reset</button>
        <button type="submit" class="btn btn-primary" id="submit">
          Submit
        </button>
      </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="index.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>

    <script>
      console.log("Welcome to Around the World Travels");

      const firstName = document.getElementById("firstName");
      const lastName = document.getElementById("lastName");
      const email = document.getElementById("email");
      const contactNo = document.getElementById("contact");

      let nameSubmission;
      let nameSubmission2;
      let emailSubmission;
      let contactSubmission;
      let stateSubmission;
      let carSubmission;
      let addressSubmission;

      // Validating Name
      firstName.addEventListener("blur", () => {
        let regex = /^[a-zA-Z]([a-zA-Z]){1,12}$/; //Name must start with an alphabet and minimum length must be 2 and maximum 13
        let str = firstName.value;
        if (regex.test(str)) {
          firstName.classList.remove("is-invalid");
          nameSubmission = true;
        } else {
          firstName.classList.add("is-invalid");
          nameSubmission = false;
        }
      });

      lastName.addEventListener("blur", () => {
        let regex = /^[a-zA-Z]([a-zA-Z]){3,12}$/; //Name must start with an alphabet and minimum length must be 2 and maximum 13
        let str = lastName.value;
        if (regex.test(str)) {
          lastName.classList.remove("is-invalid");
          nameSubmission2 = true;
        } else {
          lastName.classList.add("is-invalid");
          nameSubmission2 = false;
        }
      });

      // Validating Email
      email.addEventListener("blur", () => {
        let regex = /^([_\-\.a-zA-Z0-9]+)@([_\-\.a-zA-Z0-9]+)/;
        let str = email.value;
        let reg = /\.com$/;
        let reg2 = /\.in$/;
        let reg3 = /\.co$/;
        if (regex.test(str)) {
          if (reg.test(str)) {
            email.classList.remove("is-invalid");
            emailSubmission = true;
          } else if (reg2.test(str)) {
            email.classList.remove("is-invalid");
            emailSubmission = true;
          } else if (reg3.test(str)) {
            email.classList.remove("is-invalid");
            emailSubmission = true;
          } else {
            email.classList.add("is-invalid");
            emailSubmission = false;
          }
        } else {
          email.classList.add("is-invalid");
          emailSubmission = false;
        }
      });

      // validating Contact Number
      contactNo.addEventListener("blur", () => {
        let regex = /^([0-9]){10,12}$/;
        let str = contactNo.value;
        if (regex.test(str)) {
          contactNo.classList.remove("is-invalid");
          contactSubmission = true;
        } else {
          contactNo.classList.add("is-invalid");
          contactSubmission = false;
        }
      });

      // Validating State and Car

      let state = document.getElementById("defaultState");
      let car = document.getElementById("defaultCar");

      state.addEventListener("blur", () => {
        if (state.value != "Select any one") {
          state.classList.remove("is-invalid");
          stateSubmission = true;
        } else {
          state.classList.add("is-invalid");
          stateSubmission = false;
        }
      });
      car.addEventListener("blur", () => {
        if (car.value != "Select Your car") {
          car.classList.remove("is-invalid");
          carSubmission = true;
        } else {
          car.classList.add("is-invalid");
          carSubmission = false;
        }
      });

      // Validating Address

      let address = document.getElementById("address");
      address.addEventListener("blur", () => {
        if (address.value != "") {
          address.classList.remove("is-invalid");
          addressSubmission = true;
        } else {
          address.classList.add("is-invalid");
          addressSubmission = false;
        }
      });

      //  Submitting

      submit = document.getElementById("submit");
      reset = document.getElementById("reset");

      submit.addEventListener("click", (e) => {
        e.preventDefault();
        let success = document.getElementById("successMessage");
        let alert1 = document.getElementById("alertMessage");

        if (
          nameSubmission &&
          nameSubmission2 &&
          emailSubmission &&
          contactSubmission &&
          stateSubmission &&
          carSubmission &&
          addressSubmission
        ) {
          let confirm1 = confirm("Do you want to Submit the form?");
          if (confirm1) {
            let div = document.getElementById("message");
            div.innerHTML = `<center><strong>Well Done!</strong> Form Submitted.</center>
                             <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;
            div.classList.add("show");
            div.classList.add("alert-success");
            setTimeout(() => {
              div.classList.remove("show");
              div.classList.remove("alert-success");
              div.innerHTML = ``;
              // $('#alert1').alert('close');
              // $('#alert1').hide();
              // $('#success').show();
            }, 3000);
          } else {
          }
        } else {
          let div = document.getElementById("message");
          div.innerHTML = `<center><strong>Warning!</strong> Details Invalid.</center>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;
          div.classList.add("show");
          div.classList.add("alert-warning");
          setTimeout(() => {
            div.classList.remove("show");
            div.classList.remove("alert-warning");
            div.innerHTML = ``;
            // $('#success').alert('close');
            // $('#success').hide();
            // $('#alert1').show();
          }, 3000);
        }
      });

      // Resetting

      let confirm2;

      reset.addEventListener("click", () => {
        confirm2 = confirm("Do you want to reset?");
        if (confirm2) {
          window.location.reload();
        } else {
        }
      });
    </script>
  </body>
</html>
